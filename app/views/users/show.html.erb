<!DOCTYPE html>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
  .photo
  {
    width: 100px;
    height: 100px;
    border-radius: 50%;
  }
  table, div
  {
    text-align: center;
  }
  section
  {
    text-align: center;
    font-size: 20px;
  }
  .fa-pencil
  {
    margin-right: 30%;
  }

</style>

<% provide(:title, @user.username) %>
    <h1>
        <%= @user.username%>
    </h1>
<p id="notice"><%= notice %></p>

<table class="table table-striped">
  <tbody>
    <tr>
      <td>Photo</td>
      <td>  
        <% if @user.avatar.attached? %>
          <%= image_tag url_for(@user.avatar), class: "photo"%>
        <% end %>
      </td>
    </tr>
    <tr>
      <td>Username</td>
      <td><%= @user.username %></td>
    </tr>
    <tr>
      <td>Name</td>
      <td><%= @user.firstname.to_s + " " + @user.lastname.to_s %></td>
    </tr>
    <tr>
      <td>Email</td>
      <td><%= @user.email %></td>
    </tr>
    <tr>
      <td>Age</td>
      <td><%= @user.age %></td>
    </tr>
    <tr>
      <td>Gender</td>
      <td><%= @user.gender %></td>
    </tr>
    <tr>
      <td>Occupation</td>
      <td><%= @user.occupation %></td>
    </tr>
  </tbody>
</table>

<% if @user == current_user %>

<div class = "btn btn-group">
	<%= link_to ' Edit Your Profile', edit_user_path(@user), class:"fa fa-pencil"%>
	<%= link_to ' Search for a New Home', new_lessee_request_path, class:"fa fa-home"%> 
</div>

<h3>Your Properties</h3>

<table class="table table-striped">
  <thead>
  <tr>
    <th>Address</th>
    <th>City</th>
	<th>State</th>
    <th colspan="3"></th>
  </tr>
  </thead>
  
  <tbody>
  <% if !@properties.nil? %>
  <% @properties.each do |property| %>
    <tr>
      <td><%= property.street_address %></td>
      <td><%= property.city.city_name %></td>
	  <td><%= property.city.state.state_abbr %></td>
      <td><%= link_to 'View Details', property, class: 'fa fa-arrow-right' %> </td>
	  
    </tr>
  <% end %>
  <% end %>
  
  </tbody>
</table>
<%= link_to ' Add a New Property', new_property_path, class:'fa fa-upload'%>

<% end %>
